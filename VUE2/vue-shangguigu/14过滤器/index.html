<!DOCTYPE html>
<html lang='en'>
<head>
<meta charset='UTF-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge'>
<meta name='viewport' content='width=device-width, initial-scale=1.0'>
<title>Document</title>
 <script src='../js/vue.js'></script>
 <script src='../js/dayjs.min.js'></script>
</head>
<body>
  <!-- 过滤器：
     定义：对要显示的数据进行特定格式化后再显示（适用一些简单逻辑处理）

     语法：
     过滤器可以用在两个地方：双花括号插值和 v-bind 表达式 (后者从 2.1.0+ 开始支持)。
     1，注册过滤器：
     Vue.filter(name,callback) 或 new Vue{filters : {}}
     2，使用过滤器
     {{ xxx | 过滤器名}} 或 v-bind:属性 = ‘XXX | 过滤器名’

     PS：
     1，过滤器也可以接收额外参数，多个过滤器也可以串联
     2，并没有改变原本的数据，是产生的对应的数据
  -->
<div id='root'>
    {{ name }} <br/>
    {{ message | capitalize }} <br/>
    <!-- 格式化时间戳 BootCDN  https://www.bootcdn.cn/ -->
    现在时间：{{ formateDate }} <br/>
    现在时间：{{ getFormatDate() }} <br/>
    现在时间：{{ time | timeFormater }} 过滤器实现 <br/>
    现在时间：{{ time | timeFormater('YYYY-MM-DD') }} 过滤器传参实现 <br/>
    现在时间：{{ time | timeFormater('YYYY-MM-DD') | mySlice }} 过滤器传参实现
    <a :title="message | mySlice1">tete</a>
</div>
<script>
Vue.config.productionTip = false; //阻止生产提示

//全局过滤器
Vue.filter('mySlice1',function(value){
  return value.slice(0,5)
})
new Vue({
  el:'#root',
  data(){
      return {
        name:'胡歌',
        message: 'huge.com',
        time: Date.now()
      }
  },
  computed:{
    formateDate(){
      return dayjs(this.time).format('YYYY-MM-DD HH:mm:ss');
    },
  },
  //局部过滤器
  filters:{
    capitalize(value) {
        if (!value) return ''
        value = value.toString()
        return value.charAt(0).toUpperCase() + value.slice(1)
    },
    timeFormater(value,str="YYYY年MM月DD日 HH:mm:ss"){
      return dayjs(value).format(str)
    },
    mySlice(value){
      return value.slice(0,4)
    }
  },
  methods:{
    getFormatDate(){
      return dayjs(this.time).format('YYYY年MM月DD日 HH:mm:ss');
    }
  },
  })
</script>
</body>
</html>