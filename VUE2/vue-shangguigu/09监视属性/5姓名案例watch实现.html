<!DOCTYPE html>
<html lang='en'>
<head>
<meta charset='UTF-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge'>
<meta name='viewport' content='width=device-width, initial-scale=1.0'>
<title>Document</title>
 <script src='../js/vue.js'></script>
</head>
<body>
<!-- 
  computed和watch区别
  1，computed能完成的功能，watch都可以完成
  2，watch能完成的功能，computed不一定能完成，例如：watch可以进行异步操作
  两个重要小原则：
  1，所被vue管理的函数，最好写成普通函数，这样this的指向才是vm或组件实例对象
  2，所有不被vue所管理的函数（定时器的回调函数，ajax的回调函数等），最好写成箭头函数，
  这样this的指向才是vm或者组件实例对象。

 -->
<div id='root'>
    {{ name }} <br/><br/>
    <input type="text" v-model="firstName"/> <br/><br/>
    <input type="text" v-model="lastName"/> <br/><br/>
    全名：<span>{{ fullName }}</span> <br/><br/>
</div>
<script>
Vue.config.productionTip = false; //阻止生产提示
const vm = new Vue({
  el:'#root',
  data(){
      return {
        name:'胡歌',
        firstName:'胡',
        lastName:'歌',
        fullName:'胡_歌'
      }
  },

  watch:{
    firstName(val){
      setTimeout(() => {
        this.fullName = val + '_' + this.lastName
      },1000)
    },
    lastName(val){
      this.fullName = this.firstName + '_' + val
    }
  }
})
</script>
</body>
</html>   